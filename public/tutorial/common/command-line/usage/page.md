# コマンド・プロンプトの使い方

<nav class="tbl-contents">
<div class="tbl-title">目次</div>
<ul>
<li><a href="#start">はじめに</a></li>
<li><a href="#cwd">カレント・ディレクトリ</a></li>
<li><a href="#cd">カレント・ディレクトリを変えてみよう！</a></li>
<li><a href="#dir">ファイルやフォルダの一覧を表示しよう！</a></li>
<li><a href="#exit">コマンド・プロンプトを閉じてみよう！</a></li>
<li><a href="#cls">表示をクリアしてみよう！</a></li>
<li><a href="#mdkir">フォルダを作ってみよう！</a></li>
<li><a href="#esc">入力中のコマンドを削除してみよう</a></li>
<li><a href="#halt">実行中のプログラムを止めてみよう</a></li>
<li><a href="#tip1">入力補完機能を使ってみよう！</a></li>
<li><a href="#tip2">コマンドの入力履歴を使おう！</a></li>
<li>
  <a href="#tip3">オプションをつかってみよう！</a>
  <ul>
    <li><a href="#tip3-help">オプションの確認方法</a></li>
    <li><a href="#tip3-multiple">オプションを複数指定する場合</a></li>
  </ul>
</li>
</ul>
</nav>


<h2 id="start">はじめに</h2>

このページでは、Windowsのコマンド・プロンプトの基礎的な使い方を解説します。**cd**や**dir**のような、使用頻度の高いコマンドにも触れますが、プログラミングの学習を行う上で最低限押さえておきたい内容に絞っています。

プログラミングを学ぶことが目的の場合、コマンドラインツールは基本的な使い方を覚えて、必要な時に必要なコマンドを調べて使えるようになればOKです。切っても切れない関係ではありますが、コマンドラインツール自体奥深いですし、<span class="hl">プログラミングと一緒に覚えていく</span>くらいの心構えで問題ないと思います。

画面のキャプチャ等はWindowsのコマンド・プロンプトですが、PowerShellでも同様に動きます。

<div class="regard">
コマンド・プロンプトおよびPowerShellでは、入力するコマンドの<b>大文字・小文字は区別されません</b>。どちらで入力しても同じように動きます。一方、Linuxでは区別されます。
</div>

<h2 id="cwd">カレント・ディレクトリ</h2>

コマンド・プロンプトを立ち上げてみましょう。

<img src="/tutorial/common/command-line/usage/cmd.jpg" alt="command-prompt" width="329" height="124">

私の場合、```C:\Users\bathi```と表示されていると思います。この部分が、<span clas="hl">カレント・ディレクトリ</span>です。今コマンドプロンプトが開いているディレクトリ（＝フォルダ）のパスを示しています。

```bathi```の部分はWindowsのユーザ名のため、人によって異なる値になっていると思います。

なお、カレント・ディレクトリの次に表示されている「>」は、ユーザの入力開始位置を示しているだけです。カレント・ディレクトリの一部ではありません。

普段マウスを使ってWindowsを操作する場合、エクスプローラーを使うと思います。上の状態は、以下のようにエクスプローラーで```C:\Users\bathi```を開いているのと同じ状態と考えてもらってOKです。

<img src="/tutorial/common/command-line/usage/explorer.jpg" alt="command-prompt" width="706" height="437" loading="lazy">

<h2 id="cd">カレント・ディレクトリを変えてみよう！</h2>

カレント・ディレクトリを変更するには、```cd フォルダ名```のようにコマンドを入力します。フォルダ名は絶対パスでも相対パスでもOKです。

以下の画像は、カレント・ディレクトリ直下にある「Desktop」フォルダに遷移する例です。

<img src="/tutorial/common/command-line/usage/cd.jpg" alt="cd" width="385" height="121" loading="lazy">

エンターを入力すると、以下のようにカレント・ディレクトリが変わります。

<img src="/tutorial/common/command-line/usage/after-cd.jpg" alt="after-cd" width="325" height="36" loading="lazy">

なお、直下にあるフォルダの場合、カレント・ディレクトリを示す「```.```」は省略可能です。

今回の例では、以下の全て同じ意味になります。上から、「相対パス（```.```省略）」、「相対パス（```.```あり）」、「絶対パス」での指定です。

```bash
cd desktop
cd .\desktop
cd C:\Users\bathi\desktop
```

<h2 id="dir">ファイルやフォルダの一覧を表示しよう！</h2>

カレント・ディレクトリにあるファイルやフォルダの一覧を表示させてみましょう。

コマンド・プロンプトに、画像のように**dir**と入力し、エンターを押します。

<img src="/tutorial/common/command-line/usage/dir.jpg" alt="dir-command" width="479" height="31" loading="lazy">

カレント・ディレクトリ（```C:\Users\bathi\Desktop\test\python```）のファイルやフォルダの一覧が表示されます。

<img src="/tutorial/common/command-line/usage/dir-result.jpg" alt="dir-result" width="600" height="302" loading="lazy">

```<DIR>```と表示されているのがフォルダです。以外はファイルです。

<a href="#tip3">オプション</a>を使うと、非表示のファイルを表示したり、サブフォルダも含めて表示したり、フォルダだけを表示させたり、様々な使い方ができます。慣れてきたら使ってみましょう。

なお、```dir フォルダのパス```と入力すると、カレント・ディレクトリではなく、指定したフォルダ直下のファイルやフォルダの一覧が表示されます。**cd**で移動せずに確認できるので便利です。

<div class="regard">
PowershellおよびLinux系では、<b>dir</b>コマンドはありません。同等の機能は<b>ls</b>コマンドとなります。
</div>

<h2 id="exit">コマンド・プロンプトを閉じてみよう！</h2>

**exit**と入力してエンターを押すと、コマンド・プロントを閉じることができます。

```powershell
C:\Users\bathi\Desktop\test\python>exit
```

「右上のバッテンをクリックすればいいじゃないか」と思われるかもしれません。もちろんそのように閉じても全く問題ありません。ただ、**exit**と打つ方が早いです。慣れてきたらコマンドを打って閉じることをお勧めします。

<h2 id="cls">表示をクリアしてみよう！</h2>

コマンドの入力や結果は、画面上に残っています。何回かコマンドを打つと画面が鬱陶しくなってくるので、適当なところでクリアしておきましょう。**cls**を入力してエンターを押すと、画面上の履歴を消してくれます。

```powershell
C:\Users\bathi\Desktop\test\python>cls
```

<h2 id="mdkir">フォルダを作ってみよう！</h2>

```mkdir フォルダ名```でフォルダの作成ができます。

試しに、カレント・ディレクトリに**foo**というフォルダを作ってみます。

```powershell
C:\Users\bathi\Desktop\test\python>mkdir foo
```

**dir**コマンドで確認すると、fooフォルダが作成されていることが分かります。

```powershell {5} showLineNumbers
C:\Users\bathi\Desktop\test\python>dir

2024/04/28  13:32    <DIR>          .
2024/04/19  20:49    <DIR>          ..
2024/04/28  13:32    <DIR>          foo
2023/03/26  00:00                56 main.py
2023/04/08  21:06    <DIR>          pytweet
2023/04/08  21:48                 0 test.py
2023/03/26  00:01                11 test.txt
```

<h2 id="esc">入力中のコマンドを削除してみよう</h2>

入力中のコマンドを削除したくなることは多々あります。１文字ずつdelキーで消していくのも面倒です。そういうときは、キーボードの「esc」キーを押すと全て削除してくれます。

<img src="/tutorial/common/command-line/usage/esc.jpg" alt="input-delete" width="450" height="309" loading="lazy">

<h2 id="halt">実行中のプログラムを止めてみよう</h2>

**ctrl**キーと**z**キーを同時に押すと、実行中の処理を止めることができます。

コマンドを実行している間、処理が終わるまでの間は入力を受け付けません。そのため、時間がかかるプログラムを途中で止めたかったり、Webサーバのような常時稼働するプログラムを停止させたい時に、よく使います。

下の画像では、Webサーバのプログラムを動かしています。画像だと伝わらないかもしれませんが、常時稼働するプログラムなので、入力は受け付けない状態です。

<img src="/tutorial/common/command-line/usage/web-server.jpg" alt="running-cmd" width="500" height="46" loading="lazy">

「ctrl + z」を押すと、Webサーバが止まり、入力が可能になります。止めた際に表示されるメッセージは、プログラムによって異なります。

<img src="/tutorial/common/command-line/usage/web-server-cancel.jpg" alt="halt-cmd" width="500" height="86" loading="lazy">

なお、バックグラウンドで実行する方法もありますが、学習する環境では使う機会はあまりないと思うので割愛します。

<h2 id="tip1">入力補完機能を使ってみよう！</h2>

ファイルやフォルダを指定するのに、キーボードで入力するのは面倒ですよね。入力補完機能があるので、積極的に使っていきましょう。時短になりますし、入力ミスも減らせます。

ファイルかフォルダ名の頭文字を入力した状態でtabキーを押すと、<span class="hl">カレント・ディレクトリにあるファイル・フォルダから、一致するものを自動で補完してくれます</span>。候補が複数ある場合、tabキーをまた押せば次の候補に切り替わります。

<img src="/tutorial/common/command-line/usage/input-supplement.jpg" alt="input-supplement" width="578" height="193" loading="lazy">

何も入力していない状態でtabキーを押していくと、カレント・ディレクトリにあるファイル・フォルダが順番に表示されます。フォルダが表示された状態で、「\」を付けてtabキーを押すと、そのフォルダ配下のファイル等が表示されます。深い階層にcdしたい時に、cdコマンドを何回を打つ必要がないので便利です。

実は私も長いこと知らなかったのですが、これを知ってからコマンドラインを使うのがそこまで苦にならなくなりました！

<h2 id="tip2">コマンドの入力履歴を使おう！</h2>

コマンド・プロンプトで「↑」矢印キーを押すと、過去に入力したコマンドが表示されます。直前に打ったコマンドを少し変えたい時に使うと便利です。

設定次第かもしれませんが、コマンド・プロンプトを閉じると履歴も消えます。過去の履歴を全て保持している訳ではありませんのでご留意ください。

<h2 id="tip3">オプションをつかってみよう！</h2>

コマンドによっては、「オプション」を使って機能を指定することが可能です。どのようなオプションがあるかはコマンドによって異なります。

例えば、**dir**コマンドではファイルやフォルダの一覧が表示されますが、オプションを指定して「隠しファイルも含めて表示」、「フォルダだけ表示」のように機能を変更させることが可能です。

コマンド・プロントでオプションを指定するには、「コマンド /オプション」のように記述します。コマンドの後に**半角スペース**を1つ入力し、「**/**」（スラッシュ）に続けてオプションを入力します。

例えば、**dir**コマンドで「ファイル名のみ」表示したい場合、「/b」オプションを使います。

```bash
C:\Users\bathi\Desktop\test\python>dir /b
foo
main.py
pytweet
test.py
test.txt
```

ファイル名・フォルダ名だけ表示されていることが分かると思います。

<div class="regard">
PowershellおよびLinux系では、オプションは<b>「/」</b>ではなく、<b>「-」</b>(ハイフン)で区切ります。また、指定できるオプションもそれぞれ異なります。
</div>

<h3 id="tip3-help">オプションの確認方法</h3>

そのコマンドで使用できるオプションは、「コマンド名 /?」と入力すると確認できます。以下は**dir**コマンドのオプション一覧を表示した例です。量が多いので抜粋して表示しています。

```bash
C:\Users\bathi\Desktop\test\python>dir /?
ディレクトリ中のファイルとサブディレクトリを一覧表示します。

DIR [ドライブ:][パス][ファイル名] [/A[[:]属性]] [/B] [/C] [/D] [/L] [/N]
  [/O[[:]ソート順]] [/P] [/Q] [/R] [/S] [/T[[:]タイムフィールド]] [/W] [/X] [/4]

  [ドライブ:][パス][ファイル名]
              一覧表示するドライブ、ディレクトリ、またはファイルを指定します。

  /A          指定された属性のファイルを表示します。
  属性   D  ディレクトリ                R  読み取り専用
               H  隠しファイル               A  アーカイブ
               S  システム ファイル               I  非インデックス対象ファイル
               L  再解析ポイント             O  オフライン ファイル
               -  その属性以外
  /B          ファイル名のみを表示します (見出しや要約が付きません)。
  /C          ファイル サイズを桁区切り表示します。これは
              既定の設定です。/-C とすると桁区切りが表示されません。
  /D          /W と同じですが、ファイルを列で並べ替えた一覧を表示します。
  /L          小文字で表示します。
  /N          ファイル名を右端に表示する一覧形式を使用します。
  /O          ファイルを並べ替えて表示します。
  sortorder    N  名前順 (アルファベット)       S  サイズ順 (小さい方から)
               E  拡張子順 (アルファベット)   D  日時順 (古い方から)
               G  グループ (ディレクトリから)    -  降順
  /P          1 画面ごとに一時停止して表示します。
```

<h3 id="tip3-multiple">オプションを複数指定する場合</h3>

複数する場合、半角スペースを入力して次のオプションを指定するだけです。

例えば、カレント・ディレクトリの「フォルダ名だけ表示する（ファイルは除外）」場合、「/ad」オプションと「/b」オプションが必要です。以下のように入力すればOKです。

```bash
C:\Users\bathi\Desktop\test\python>dir /ad /b
foo
pytweet
```

